
 <!DOCTYPE HTML>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  
    <title>Stan Zhou&#39;s Hexo Technical Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Stan Zhou">
    

    
    <meta name="description" content="a Site Reliability Engineer working and living in Sydney.">
<meta property="og:type" content="website">
<meta property="og:title" content="Stan Zhou&#39;s Hexo Technical Blog">
<meta property="og:url" content="http://223.95.78.227/index.html">
<meta property="og:site_name" content="Stan Zhou&#39;s Hexo Technical Blog">
<meta property="og:description" content="a Site Reliability Engineer working and living in Sydney.">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Stan Zhou&#39;s Hexo Technical Blog">
<meta name="twitter:description" content="a Site Reliability Engineer working and living in Sydney.">
<meta name="twitter:creator" content="@stanosaka">

    
    <link rel="alternative" href="/atom.xml" title="Stan Zhou&#39;s Hexo Technical Blog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/toad.ico">
    
    
    <link rel="apple-touch-icon" href="/img/toadman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/toadman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>
</html>
  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/toadman.png" alt="Stan Zhou&#39;s Hexo Technical Blog" title="Stan Zhou&#39;s Hexo Technical Blog"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Stan Zhou&#39;s Hexo Technical Blog">Stan Zhou&#39;s Hexo Technical Blog</a></h1>
				<h2 class="blog-motto">Innovation Evangelist</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:223.95.78.227">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/08/09/tools/" title="tools" itemprop="url">tools</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stan Zhou" target="_blank" itemprop="author">Stan Zhou</a>
		
  <p class="article-time">
    <time datetime="2020-08-09T04:15:15.000Z" itemprop="datePublished"> Published 2020-08-09</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Multiplexers"><a href="#Multiplexers" class="headerlink" title="Multiplexers"></a>Multiplexers</h1><h2 id="byobu"><a href="#byobu" class="headerlink" title="byobu"></a>byobu</h2><p>F2: Create a new windows.<br>F3: Go to the previous windows.<br>F4: Go to the next windows.<br>F9: help and configuration</p>
<p>Quitting a byobu session: locking and disconnecting.<br>F12: Lock access</p>
<p>F6: disconnect<br>byobu -r: reconnect<br>F7: scrollback, spacebar for mark the start of buffer, spacebar again to mark the end of selection.<br>Paste: Byobu-Escape + [</p>
<h2 id="mosh"><a href="#mosh" class="headerlink" title="mosh"></a>mosh</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mosh jdoe@10.10.10.101</span><br><span class="line">mosh username@remoteserver.org --ssh=&quot;ssh -i ~/.ssh/identity_file -p 1234&quot;</span><br></pre></td></tr></table></figure>
<h2 id="ss"><a href="#ss" class="headerlink" title="ss"></a>ss</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">user@opsschool ~$ ss -tuln</span><br><span class="line">Netid  State      Recv-Q Send-Q         Local Address:Port         Peer Address:Port</span><br><span class="line">tcp    LISTEN     0      128                        *:80                      *:*</span><br><span class="line">tcp    LISTEN     0      50                         *:4242                    *:*</span><br><span class="line">tcp    LISTEN     0      50                        :::4242                   :::*</span><br><span class="line">tcp    LISTEN     0      50                         *:2003                    *:*</span><br><span class="line">tcp    LISTEN     0      50                         *:2004                    *:*</span><br><span class="line">tcp    LISTEN     0      128                       :::22                     :::*</span><br><span class="line">tcp    LISTEN     0      128                        *:22                      *:*</span><br><span class="line">tcp    LISTEN     0      100                        *:3000                    *:*</span><br><span class="line">tcp    LISTEN     0      100                      ::1:25                     :::*</span><br><span class="line">tcp    LISTEN     0      100                127.0.0.1:25                      *:*</span><br><span class="line">tcp    LISTEN     0      50                         *:7002                    *:*</span><br></pre></td></tr></table></figure>
<ul>
<li>means the deamon is listening on all IP addresses the server might have.</li>
</ul>
<p>127.0.0.1 means the daemon is listening only to the loopback interface</p>
<p>::: is the same thing as *, but for IPv6</p>
<p>::1 is the same as 127.0.0.1, but for IPv6</p>
<h2 id="mtr"><a href="#mtr" class="headerlink" title="mtr"></a>mtr</h2><p>is a program that combines the functionality of ping and traceroute into one utility<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> mtr -r uow.edu.au</span><br><span class="line">Start: 2020-08-09T15:14:55+1000</span><br><span class="line">HOST: stan-OptiPlex-380           Loss%   Snt   Last   Avg  Best  Wrst StDev</span><br><span class="line">  1.|-- router.lan                 0.0%    10    0.4   0.4   0.3   0.4   0.0</span><br><span class="line">  2.|-- 58.162.27.77               0.0%    10    8.6  12.7   8.0  17.5   3.4</span><br><span class="line">  3.|-- 10.2.2.150                 0.0%    10    8.6  13.7   8.3  29.7   6.6</span><br><span class="line">  4.|-- 10.2.1.149                 0.0%    10   15.2  13.6  10.2  16.1   2.0</span><br><span class="line">  5.|-- Bundle-Ether77.chw-edge90  0.0%    10   12.2  14.0  10.1  23.7   3.9</span><br><span class="line">  6.|-- bundle-ether2.ken-edge903  0.0%    10   12.1  13.3   9.2  26.3   4.8</span><br><span class="line">  7.|-- aar3533567.lnk.telstra.ne  0.0%    10   14.3  14.1  10.4  31.7   6.5</span><br><span class="line">  8.|-- xe-0-2-1.pe1.rsby.nsw.aar  0.0%    10   12.7  12.0   8.9  14.8   2.2</span><br><span class="line">  9.|-- 138.44.5.111               0.0%    10   10.2  14.5  10.2  17.5   2.5</span><br><span class="line"> 10.|-- 203.10.91.20               0.0%    10   11.8  16.6   9.9  27.2   6.1</span><br><span class="line"> 11.|-- www.uow.edu.au             0.0%    10   11.8  13.7  11.8  16.4   1.5</span><br></pre></td></tr></table></figure></p>
<h2 id="iftop"><a href="#iftop" class="headerlink" title="iftop"></a>iftop</h2><p>Displays bandwith usage on a specific interface, broken down by remote host<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo iftop -i eth0</span><br></pre></td></tr></table></figure></p>
<h2 id="iperf"><a href="#iperf" class="headerlink" title="iperf"></a>iperf</h2><p>a bandwidth testing utility. It consists of a daemon and client, running on separate machines.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo iperf3 -c remote-host</span><br></pre></td></tr></table></figure></p>
<h2 id="Troubleshooting-layer-1-problems"><a href="#Troubleshooting-layer-1-problems" class="headerlink" title="Troubleshooting layer 1 problems"></a>Troubleshooting layer 1 problems</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ip -s link show eth0</span><br><span class="line">sudo ethtool eth0</span><br><span class="line">## -S, which shows all the same metrics as the ip command, plus many, many more</span><br><span class="line">sudo ethtool -S eth0</span><br></pre></td></tr></table></figure>
<h2 id="HTTP-core-protocol"><a href="#HTTP-core-protocol" class="headerlink" title="HTTP core protocol"></a>HTTP core protocol</h2><h3 id="Request"><a href="#Request" class="headerlink" title="Request"></a>Request</h3><p>| Method  | Description                                                                            |<br>| GET     | Tranfers a current representation of the target resource.                              |<br>| HEAD    | Same as GET, but only transfer the status line and header section.                     |<br>| POST    | Perform resource-specific processing on the request payload.                           |<br>| PUT     | Replace all current representations of the target resource with the requested payload. |<br>| DELETE  | Remove all current representations of the target resource.                             |<br>| CONNECT | Establish a tunnel to the server identified by the target resource.                    |<br>| OPTIONS | Describe the communication options for the target resource.                            |<br>| TRACE   | Perform a message loop-back test along the path to the target resource.                |</p>
<h3 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h3><p>| Code | Reason                | Description                                                                                                                                                                |<br>| 200  | OK                    | The request has succeeded.                                                                                                                                                 |<br>| 301  | Moved Permenantly     | The target has moved to a new location and future references should use a new location. The server should mention the new location in the Location header in the response. |<br>| 302  | Found                 | The target resources been temporarily moved. As the move is temporarily, future references should still use the same location.                                             |<br>| 400  | Bad Request           | The server cannot process the request as it is perceived as invalid.                                                                                                       |<br>| 401  | Unauthorized          | The request to the target resource is not allowed due to missing or incorrect authentication credentials.                                                                  |<br>| 403  | Forbidden             | The request to the target resource is not allowed for reasons unrelated to authentication.                                                                                 |<br>| 404  | Not Found             | The target resource was not found.                                                                                                                                         |<br>| 500  | Internal Server Error | The server encountered an unexpected error.                                                                                                                                |<br>| 502  | Bad Gateway           | The server is acting as a gateway/proxy and received an invalid response from a server it contacted to fulfill the request.                                                |<br>| 503  | Service Unavailable   | The server is currently unable to fulfill the request.                                                                                                                     |</p>
<h2 id="cURL"><a href="#cURL" class="headerlink" title="cURL"></a>cURL</h2><p>is a tool and library for transferring data with URL syntax, capable of handling various protocols.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl http://foobar/index.html</span><br><span class="line">With the --request or -X parameter, the method can be specified. To include the the headers in the output.</span><br><span class="line">curl -I --request GET  http://www.opsschool.org/en/latest/http_101.html</span><br><span class="line">The -O switch makes cURL write output to a local file named like the remote file.</span><br><span class="line">$ curl -O http://localhost/bigfile</span><br></pre></td></tr></table></figure></p>
<p>By default cURL does not follow HTTP redirects, and instead a 3xx redirection message is given.<br>The -L switch makes cURL automatically follow redirects and issue another request to the given localtion till it finds the targeted resource.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -IL foobar.org</span><br></pre></td></tr></table></figure></p>
<h2 id="netcat"><a href="#netcat" class="headerlink" title="netcat"></a>netcat</h2><p>a networking tool capable of reading and writing data across a network connection.</p>
<h3 id="Basic-client-server"><a href="#Basic-client-server" class="headerlink" title="Basic client/server"></a>Basic client/server</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ nc -l 192.168.0.1 1234 &gt; output.log</span><br><span class="line">### then in another terminal, pipe some data to netcat that is connected to the destination ip and port</span><br><span class="line">$ echo &quot;I&apos;m connected as client&quot;| nc 192.168.0.1 1234</span><br><span class="line">## Then again in the first (server) terminal, the data is displayed:</span><br><span class="line">$ cat output.log</span><br><span class="line">I&apos;m connected as client</span><br></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/06/28/puppet6/" title="puppet6" itemprop="url">puppet6</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stan Zhou" target="_blank" itemprop="author">Stan Zhou</a>
		
  <p class="article-time">
    <time datetime="2020-06-28T11:26:20.000Z" itemprop="datePublished"> Published 2020-06-28</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="puppet-6"><a href="#puppet-6" class="headerlink" title="puppet 6"></a>puppet 6</h1><h2 id="Local-environment-installation"><a href="#Local-environment-installation" class="headerlink" title="Local environment installation"></a>Local environment installation</h2><h3 id="Puppet-6-download"><a href="#Puppet-6-download" class="headerlink" title="Puppet 6 download"></a>Puppet 6 download</h3><p><a href="http://apt.puppet.com/">http://apt.puppet.com/</a><br><a href="http://yum.puppet.com/puppet6/">http://yum.puppet.com/puppet6/</a><br><a href="http://downloads.puppet.com/windows/puppet6/">http://downloads.puppet.com/windows/puppet6/</a><br><a href="http://yum.puppet.com/mac/puppet6/">http://yum.puppet.com/mac/puppet6/</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vagrant plugin install vagrant-hostmanager</span><br><span class="line">vagrant plugin install vagrant-vbguest</span><br><span class="line">vagrant --version</span><br><span class="line">vboxmanage --version</span><br><span class="line">git --version</span><br><span class="line">vagrant status</span><br><span class="line">vagrant up centos</span><br><span class="line">vagrant hostmanager # updating hosts file on the vm</span><br></pre></td></tr></table></figure></p>
<h2 id="Types-and-providers"><a href="#Types-and-providers" class="headerlink" title="Types and providers"></a>Types and providers</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@centos ~]# puppet resource package</span><br><span class="line">package &#123; &apos;NetworkManager&apos;:</span><br><span class="line">  ensure   =&gt; &apos;1:1.18.4-3.el7&apos;,</span><br><span class="line">  provider =&gt; &apos;yum&apos;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[root@centos ~]# puppet resource package|less</span><br><span class="line">[root@centos ~]# gem list</span><br><span class="line"></span><br><span class="line">*** LOCAL GEMS ***</span><br><span class="line"></span><br><span class="line">bigdecimal (1.2.0)</span><br><span class="line">io-console (0.4.2)</span><br><span class="line">json (1.7.7)</span><br><span class="line">psych (2.0.0)</span><br><span class="line">rdoc (4.0.0)</span><br><span class="line">[root@centos ~]# puppet resource package bigdecimal</span><br><span class="line">package &#123; &apos;bigdecimal&apos;:</span><br><span class="line">  ensure   =&gt; [&apos;1.2.0&apos;],</span><br><span class="line">  provider =&gt; &apos;gem&apos;,</span><br><span class="line">&#125;</span><br><span class="line">[root@centos ~]# puppet resource package git</span><br><span class="line">package &#123; &apos;git&apos;:</span><br><span class="line">  ensure   =&gt; &apos;purged&apos;,</span><br><span class="line">  provider =&gt; &apos;yum&apos;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Puppet-Master-installation"><a href="#Puppet-Master-installation" class="headerlink" title="Puppet Master installation"></a>Puppet Master installation</h2><p><a href="https://github.com/PacktPublishing/Hands-On-Infrastructure-Automation-with-Puppet-6-V-" title="puppet 6">Hands-on-puppet-6</a></p>
<h2 id="Puppet-communication"><a href="#Puppet-communication" class="headerlink" title="Puppet communication"></a>Puppet communication</h2><h3 id="on-centos"><a href="#on-centos" class="headerlink" title="on centos:"></a>on centos:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[vagrant@centos ~]$ curl -v https://puppet:8140/puppet-ca/v1/certificate/ca</span><br><span class="line"></span><br><span class="line">[vagrant@centos ~]$ curl -v https://puppet:8140/puppet-ca/v1/certificate/ca -k</span><br><span class="line">* About to connect() to puppet port 8140 (#0)</span><br><span class="line">*   Trying 192.168.50.100...</span><br><span class="line">* Connected to puppet (192.168.50.100) port 8140 (#0)</span><br><span class="line">* Initializing NSS with certpath: sql:/etc/pki/nssdb</span><br><span class="line">* skipping SSL peer certificate verification</span><br><span class="line">* NSS: client certificate not found (nickname not specified)</span><br></pre></td></tr></table></figure>
<h3 id="on-puppet"><a href="#on-puppet" class="headerlink" title="on puppet:"></a>on puppet:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root@puppet ~]# puppetserver ca list</span><br><span class="line">Requested Certificates:</span><br><span class="line">    centos.example.com       (SHA256)  42:79:9E:79:A7:17:92:88:4C:E9:DE:A2:75:F0:03:5E:6A:7C:C4:D0:6B:AF:0E:F4:69:38:B8:9D:0F:E5:AE:5E</span><br><span class="line">[root@puppet ~]# puppetserver ca sign --cert centos.example.com</span><br><span class="line">Successfully signed certificate request for centos.example.com</span><br></pre></td></tr></table></figure>
<h3 id="check-cert-expired-date"><a href="#check-cert-expired-date" class="headerlink" title="check cert expired date"></a>check cert expired date</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@centos ~]# cd /etc/puppetlabs/puppet/ssl/</span><br><span class="line">[root@centos ssl]# find .</span><br><span class="line">.</span><br><span class="line">./certs</span><br><span class="line">./certs/ca.pem</span><br><span class="line">./certs/centos.example.com.pem</span><br><span class="line">./public_keys</span><br><span class="line">./certificate_requests</span><br><span class="line">./private_keys</span><br><span class="line">./private_keys/centos.example.com.pem</span><br><span class="line">./private</span><br><span class="line">./crl.pem</span><br><span class="line">root@centos ssl]# openssl x509 -in certs/ca.pem -text -noout|less</span><br><span class="line">[root@centos ssl]# openssl x509 -in certs/centos.example.com.pem -text -noout|less</span><br><span class="line">[root@centos ssl]# openssl verify -CAfile certs/ca.pem certs/centos.example.com.pem</span><br><span class="line">certs/centos.example.com.pem: OK</span><br><span class="line"></span><br><span class="line">[root@centos ssl]# cat certs/ca.pem crl.pem &gt; ca_crl.pem</span><br><span class="line">[root@centos ssl]# openssl verify -CAfile ca_crl.pem -crl_check certs/centos.example.com.pem</span><br><span class="line">certs/centos.example.com.pem: OK</span><br><span class="line">[root@centos ssl]# openssl x509 -in certs/centos.example.com.pem -modulus -noout</span><br><span class="line">Modulus=C57D960784B36EB5E316C1CFA95424062207356C0ACA2271C060120E77EDE0D44347D109982ABDC46F122AFAF85EE83CBE9684AA9E2164D40246D2C72CE9BB67C9C6544282829CC6B1D9100B0A32BAD630DB65EFA338ECE9B941CE2C19003A2AF8BAE7DDADA2A4F7279CC0E2916AB37A058F9CF8316D35BFA45BF5B0E178ACE928F77846FE0DB035CB584A7C2622DE7A48C959814E1AFB9F6B5F7F0BAC284F0EC336D1C376691F388328B1AF0037D1789C8D1D5D12AD72014706594B9EF9463B10EF3949BD193201334B46724525D164B57F3A1BB350C2915D9476FB66547B5F4E861FC60A4309D8739910E4603C3E5BF536D3BB4581F0789044110AF8350AB1E4189459035EDD1CD13B737D1A17F96026B83686EED285A51F06C5B9E840A6FCDC29C13ACBE7E8787EDC293479D0CFCDE95610C5E93A377F8C1F962001EF354F39359E39855CCC9FF1C9E7548FBA6143784F80C820D5EFE59F96AC78196D560195260F3E1B6A8A0354EDF3F5D368EC4EAF0F3C91CBF88E436C529136ACCA1A9E6CA7ABDCF22763C38A6E6B9CCF75C9570B03D74BB54A50D114B256A540AF6973A1327D9C4CAC7C244BCA33AE27B96668F1CC5ED8D0B808E150ECC56F2489F0CECEB18D8A6E403DF434246D30DE327FF53D9B770C80194ABE124E84E15737B57543E92D50B146BE5BB56618E42783E80E8D5FE18B1E8AA509FCE64FFDA3521019</span><br><span class="line">[root@centos ssl]# openssl x509 -in certs/centos.example.com.pem -modulus -noout|sha256sum</span><br><span class="line">1527c07dedde5aed5061b7b2416c6d942c7cb66cd457ee545b02ef9934ca2e45  -</span><br><span class="line">[root@centos ssl]# openssl rsa -in private_keys/centos.example.com.pem -modulus -noout</span><br><span class="line">Modulus=C57D960784B36EB5E316C1CFA95424062207356C0ACA2271C060120E77EDE0D44347D109982ABDC46F122AFAF85EE83CBE9684AA9E2164D40246D2C72CE9BB67C9C6544282829CC6B1D9100B0A32BAD630DB65EFA338ECE9B941CE2C19003A2AF8BAE7DDADA2A4F7279CC0E2916AB37A058F9CF8316D35BFA45BF5B0E178ACE928F77846FE0DB035CB584A7C2622DE7A48C959814E1AFB9F6B5F7F0BAC284F0EC336D1C376691F388328B1AF0037D1789C8D1D5D12AD72014706594B9EF9463B10EF3949BD193201334B46724525D164B57F3A1BB350C2915D9476FB66547B5F4E861FC60A4309D8739910E4603C3E5BF536D3BB4581F0789044110AF8350AB1E4189459035EDD1CD13B737D1A17F96026B83686EED285A51F06C5B9E840A6FCDC29C13ACBE7E8787EDC293479D0CFCDE95610C5E93A377F8C1F962001EF354F39359E39855CCC9FF1C9E7548FBA6143784F80C820D5EFE59F96AC78196D560195260F3E1B6A8A0354EDF3F5D368EC4EAF0F3C91CBF88E436C529136ACCA1A9E6CA7ABDCF22763C38A6E6B9CCF75C9570B03D74BB54A50D114B256A540AF6973A1327D9C4CAC7C244BCA33AE27B96668F1CC5ED8D0B808E150ECC56F2489F0CECEB18D8A6E403DF434246D30DE327FF53D9B770C80194ABE124E84E15737B57543E92D50B146BE5BB56618E42783E80E8D5FE18B1E8AA509FCE64FFDA3521019</span><br><span class="line">[root@centos ssl]# openssl rsa -in private_keys/centos.example.com.pem -modulus -noout|sha256sum</span><br><span class="line">1527c07dedde5aed5061b7b2416c6d942c7cb66cd457ee545b02ef9934ca2e45  -</span><br></pre></td></tr></table></figure>
<h2 id="Catalogs-and-environments"><a href="#Catalogs-and-environments" class="headerlink" title="Catalogs and environments"></a>Catalogs and environments</h2><p>When apply puppet code to a machine or node, need to compile the code into a catalog.<br>The catalog is a representation of the code as a graph.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@puppet manifests]# cd /opt/puppetlabs/puppet/cache/</span><br><span class="line">[root@puppet cache]# ls</span><br><span class="line">clientbucket  client_data  client_yaml  facts.d  lib  locales  preview  reports  state</span><br><span class="line">[root@puppet cache]# cd client_data/catalog/</span><br><span class="line">[root@puppet catalog]# cat puppet.example.com.json |python -m json.tool|less</span><br></pre></td></tr></table></figure>
<h3 id="Environments"><a href="#Environments" class="headerlink" title="Environments"></a>Environments</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[root@puppet environments]# ls</span><br><span class="line">production  sandbox</span><br><span class="line">[root@puppet environments]# cd sandbox/</span><br><span class="line">[root@puppet sandbox]# ls</span><br><span class="line">data  environment.conf  hiera.yaml  manifests  modules</span><br><span class="line">[root@puppet sandbox]# cd manifests/</span><br><span class="line">[root@puppet manifests]# ls</span><br><span class="line">site.pp</span><br><span class="line">[root@puppet manifests]# vi site.pp</span><br><span class="line">[root@puppet manifests]# puppet agent -t --environment sandbox</span><br><span class="line">Info: Using configured environment &apos;sandbox&apos;</span><br><span class="line">Info: Retrieving pluginfacts</span><br><span class="line">Info: Retrieving plugin</span><br><span class="line">Info: Retrieving locales</span><br><span class="line">Info: Caching catalog for puppet.example.com</span><br><span class="line">Info: Applying configuration version &apos;1593430390&apos;</span><br><span class="line">Notice: This is the sandbox environment</span><br><span class="line">Notice: /Stage[main]/Main/Node[default]/Notify[This is the sandbox environment]/message: defined &apos;message&apos; as &apos;This is the sandbox environment&apos;</span><br><span class="line">Notice: Applied catalog in 0.01 seconds</span><br><span class="line">[root@puppet manifests]# puppet agent -t</span><br><span class="line">Info: Using configured environment &apos;production&apos;</span><br><span class="line">Info: Retrieving pluginfacts</span><br><span class="line">Info: Retrieving plugin</span><br><span class="line">Info: Retrieving locales</span><br><span class="line">Info: Caching catalog for puppet.example.com</span><br><span class="line">Info: Applying configuration version &apos;1593430423&apos;</span><br><span class="line">Notice: This is production, only approved code is permitted</span><br><span class="line">Notice: /Stage[main]/Main/Node[default]/Notify[This is production, only approved code is permitted]/message: defined &apos;message&apos; as &apos;This is production, only approved code is permitted&apos;</span><br><span class="line">Notice: Applied catalog in 0.01 seconds</span><br><span class="line">[root@puppet manifests]# vi /etc/puppetlabs/puppet/puppet.conf</span><br><span class="line">add:</span><br><span class="line">[agent]</span><br><span class="line">environment=sandbox</span><br><span class="line">[root@puppet manifests]# puppet agent -t</span><br><span class="line">Info: Using configured environment &apos;sandbox&apos;</span><br><span class="line">Info: Retrieving pluginfacts</span><br><span class="line">Info: Retrieving plugin</span><br><span class="line">Info: Retrieving locales</span><br><span class="line">Info: Caching catalog for puppet.example.com</span><br><span class="line">Info: Applying configuration version &apos;1593430508&apos;</span><br><span class="line">Notice: This is the sandbox environment</span><br><span class="line">Notice: /Stage[main]/Main/Node[default]/Notify[This is the sandbox environment]/message: defined &apos;message&apos; as &apos;This is the sandbox environment&apos;</span><br><span class="line">Notice: Applied catalog in 0.01 seconds</span><br></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/BGh6QOP.png" alt="environments"></p>
<h2 id="Modules-and-Puppet-Forge"><a href="#Modules-and-Puppet-Forge" class="headerlink" title="Modules and Puppet Forge"></a>Modules and Puppet Forge</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">[root@puppet ~]# puppet module install puppetlabs-apache</span><br><span class="line">Notice: Preparing to install into /etc/puppetlabs/code/environments/production/modules ...</span><br><span class="line">Notice: Downloading from https://forgeapi.puppet.com ...</span><br><span class="line">Notice: Installing -- do not interrupt ...</span><br><span class="line">/etc/puppetlabs/code/environments/production/modules</span><br><span class="line">└─┬ puppetlabs-apache (v5.4.0)</span><br><span class="line">  ├─┬ puppetlabs-concat (v6.2.0)</span><br><span class="line">  │ └── puppetlabs-translate (v2.2.0)</span><br><span class="line">  └── puppetlabs-stdlib (v6.3.0)</span><br><span class="line">[root@puppet ~]# cat /etc/puppetlabs/puppet/puppet.conf</span><br><span class="line"># This file can be used to override the default puppet settings.</span><br><span class="line"># See the following links for more details on what settings are available:</span><br><span class="line"># - https://puppet.com/docs/puppet/latest/config_important_settings.html</span><br><span class="line"># - https://puppet.com/docs/puppet/latest/config_about_settings.html</span><br><span class="line"># - https://puppet.com/docs/puppet/latest/config_file_main.html</span><br><span class="line"># - https://puppet.com/docs/puppet/latest/configuration.html</span><br><span class="line">[master]</span><br><span class="line">vardir = /opt/puppetlabs/server/data/puppetserver</span><br><span class="line">logdir = /var/log/puppetlabs/puppetserver</span><br><span class="line">rundir = /var/run/puppetlabs/puppetserver</span><br><span class="line">pidfile = /var/run/puppetlabs/puppetserver/puppetserver.pid</span><br><span class="line">codedir = /etc/puppetlabs/code</span><br><span class="line">[agent]</span><br><span class="line">environment=sandbox</span><br><span class="line">[root@puppet ~]# puppet config print modulepath</span><br><span class="line">/etc/puppetlabs/code/environments/production/modules:/etc/puppetlabs/code/modules:/opt/puppetlabs/puppet/modules</span><br><span class="line">[root@puppet ~]# puppet config print environment</span><br><span class="line">production</span><br><span class="line">[root@puppet ~]# puppet config print environment --section=agent</span><br><span class="line">sandbox</span><br><span class="line">[root@puppet production]# which gem</span><br><span class="line">/bin/gem</span><br><span class="line">[root@puppet production]# vi Puppetfile</span><br><span class="line">mod &apos;puppetlabs/vcsrepo&apos;</span><br><span class="line">mod &apos;puppetlabs/apache&apos;</span><br><span class="line">mod &apos;first&apos;,</span><br><span class="line">   :git =&gt; &apos;https://github.com/uphillian/uphillian-sample.git&apos;,</span><br><span class="line">   :ref =&gt; &apos;master&apos;</span><br><span class="line">   </span><br><span class="line">[root@puppet production]# export PATH=/opt/puppetlabs/puppet/bin:/opt/puppetlabs/bin:$PATH</span><br><span class="line">[root@puppet production]# which gem</span><br><span class="line">/opt/puppetlabs/puppet/bin/gem</span><br><span class="line">[root@puppet production]# gem install r10k</span><br><span class="line">[root@puppet production]# r10k</span><br><span class="line">NAME</span><br><span class="line">    r10k - Killer robot powered Puppet environment deployment</span><br><span class="line">    </span><br><span class="line">[root@puppet production]# r10k puppetfile install</span><br><span class="line">[root@puppet production]# ls modules</span><br><span class="line">apache  first  vcsrepo</span><br></pre></td></tr></table></figure>
<h3 id="concat-Module"><a href="#concat-Module" class="headerlink" title="concat Module"></a>concat Module</h3><p><a href="https://github.com/puppetlabs/puppetlabs-concat">concat</a><br><a href="https://forge.puppet.com/puppetlabs/concat">concat forge</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">[root@puppet production]# pwd</span><br><span class="line">/etc/puppetlabs/code/environments/production</span><br><span class="line">[root@puppet production]# cat Puppetfile</span><br><span class="line">mod &apos;puppetlabs/vcsrepo&apos;</span><br><span class="line">mod &apos;puppetlabs/apache&apos;</span><br><span class="line">mod &apos;puppetlabs/stdlib&apos;</span><br><span class="line">mod &apos;puppetlabs/concat&apos;</span><br><span class="line">mod &apos;first&apos;,</span><br><span class="line">   :git =&gt; &apos;https://github.com/uphillian/uphillian-sample.git&apos;,</span><br><span class="line">   :ref =&gt; &apos;master&apos;</span><br><span class="line">[root@puppet production]# r10k puppetfile install</span><br><span class="line">[root@puppet production]# cd modules/</span><br><span class="line">[root@puppet modules]# ls</span><br><span class="line">apache  concat  first  stdlib  vcsrepo</span><br><span class="line">[root@puppet modules]# cd ../manifests/</span><br><span class="line">[root@puppet manifests]# ls</span><br><span class="line">site-2.pp  site.pp</span><br><span class="line">[root@puppet manifests]# cat site-2.pp</span><br><span class="line">concat &#123;&apos;/etc/motd&apos;: &#125;</span><br><span class="line"></span><br><span class="line">package &#123; &apos;epel-release&apos;:</span><br><span class="line">  ensure =&gt; &apos;installed&apos;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">package &#123; &apos;figlet&apos;:</span><br><span class="line">  ensure =&gt; &apos;installed&apos;,</span><br><span class="line">  require =&gt; Package[&apos;epel-release&apos;],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">exec &#123;&apos;motd.hostname&apos;:</span><br><span class="line">  path    =&gt; &apos;/bin:/usr/bin&apos;,</span><br><span class="line">  command =&gt; &quot;figlet $hostname &gt;/etc/motd.hostname&quot;,</span><br><span class="line">  creates =&gt; &apos;/etc/motd.hostname&apos;,</span><br><span class="line">  require =&gt; Package[&apos;figlet&apos;],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">exec &#123;&apos;motd.warning&apos;:</span><br><span class="line">  path    =&gt; &apos;/bin:/usr/bin&apos;,</span><br><span class="line">  command =&gt; &quot;figlet &apos;* WARNING *&apos;&gt;/etc/motd.warning&quot;,</span><br><span class="line">  creates =&gt; &apos;/etc/motd.warning&apos;,</span><br><span class="line">  require =&gt; Package[&apos;figlet&apos;],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">concat::fragment &#123; &apos;hostname&apos;:</span><br><span class="line">  target  =&gt; &apos;/etc/motd&apos;,</span><br><span class="line">  source  =&gt; &apos;/etc/motd.hostname&apos;,</span><br><span class="line">  order   =&gt; &apos;01&apos;,</span><br><span class="line">  require =&gt; Exec[&apos;motd.hostname&apos;],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">concat::fragment &#123; &apos;info&apos;:</span><br><span class="line">  target =&gt; &apos;/etc/motd&apos;,</span><br><span class="line">  content =&gt; &quot;$&#123;fact(&apos;os.name&apos;)&#125; $&#123;fact(&apos;os.release.major&apos;)&#125;\n&quot;,</span><br><span class="line">  order =&gt; &apos;05&apos;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$disclaimer = @(END)</span><br><span class="line">  -----------------------------------------------------------</span><br><span class="line">  This system is for the use of authorized users only.</span><br><span class="line">  Individuals using this computer system without authority,</span><br><span class="line">  or in excess of their authority, are subject to having all</span><br><span class="line">  of their activities on the system monitored and recorded.</span><br><span class="line">  This information will be shared with law enforcement should</span><br><span class="line">  any wrong doing be suspected.</span><br><span class="line">  -----------------------------------------------------------</span><br><span class="line"></span><br><span class="line">  | END</span><br><span class="line"></span><br><span class="line">concat::fragment &#123; &apos;warning&apos;:</span><br><span class="line">  target =&gt; &apos;/etc/motd&apos;,</span><br><span class="line">  source =&gt; &apos;/etc/motd.warning&apos;,</span><br><span class="line">  order  =&gt; &apos;10&apos;,</span><br><span class="line">&#125;</span><br><span class="line">concat::fragment &#123; &apos;disclaimer&apos;:</span><br><span class="line">  target  =&gt; &apos;/etc/motd&apos;,</span><br><span class="line">  content =&gt; $disclaimer,</span><br><span class="line">  order   =&gt; &apos;20&apos;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># run</span><br><span class="line">puppet agent -t</span><br><span class="line">[root@puppet manifests]# cat /etc/motd</span><br><span class="line">                              _</span><br><span class="line"> _ __  _   _ _ __  _ __   ___| |_</span><br><span class="line">| &apos;_ \| | | | &apos;_ \| &apos;_ \ / _ \ __|</span><br><span class="line">| |_) | |_| | |_) | |_) |  __/ |_</span><br><span class="line">| .__/ \__,_| .__/| .__/ \___|\__|</span><br><span class="line">|_|         |_|   |_|</span><br><span class="line">CentOS 7</span><br><span class="line">       __        ___    ____  _   _ ___ _   _  ____</span><br><span class="line">__/\__ \ \      / / \  |  _ \| \ | |_ _| \ | |/ ___| __/\__</span><br><span class="line">\    /  \ \ /\ / / _ \ | |_) |  \| || ||  \| | |  _  \    /</span><br><span class="line">/_  _\   \ V  V / ___ \|  _ &lt;| |\  || || |\  | |_| | /_  _\</span><br><span class="line">  \/      \_/\_/_/   \_\_| \_\_| \_|___|_| \_|\____|   \/</span><br><span class="line"></span><br><span class="line">-----------------------------------------------------------</span><br><span class="line">This system is for the use of authorized users only.</span><br><span class="line">Individuals using this computer system without authority,</span><br><span class="line">or in excess of their authority, are subject to having all</span><br><span class="line">of their activities on the system monitored and recorded.</span><br><span class="line">This information will be shared with law enforcement should</span><br><span class="line">any wrong doing be suspected.</span><br><span class="line">-----------------------------------------------------------</span><br></pre></td></tr></table></figure>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/puppet6-puppet/">puppet6, puppet</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/06/23/spacemacs/" title="spacemacs" itemprop="url">spacemacs</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stan Zhou" target="_blank" itemprop="author">Stan Zhou</a>
		
  <p class="article-time">
    <time datetime="2020-06-23T06:34:35.474Z" itemprop="datePublished"> Published 2020-06-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Basic"><a href="#Basic" class="headerlink" title="Basic"></a>Basic</h1><table>
<thead>
<tr>
<th>Key</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SPC p f</td>
<td style="text-align:center">search find in the same project</td>
</tr>
<tr>
<td>SPC p p</td>
<td style="text-align:center">open project</td>
</tr>
<tr>
<td>SPC w m</td>
<td style="text-align:center">max the current windows</td>
</tr>
<tr>
<td>ALT ;</td>
<td style="text-align:center">uncomment</td>
</tr>
<tr>
<td>gcc</td>
<td style="text-align:center">comment out a line</td>
</tr>
<tr>
<td>gc</td>
<td style="text-align:center">comment out highlighted text</td>
</tr>
<tr>
<td>SPC w /</td>
<td style="text-align:center">vertical</td>
</tr>
<tr>
<td>SPC w -</td>
<td style="text-align:center">horizontal</td>
</tr>
<tr>
<td>SPC f e d</td>
<td style="text-align:center">edit spacemacs profile</td>
</tr>
<tr>
<td>SPC f f</td>
<td style="text-align:center">open file</td>
</tr>
<tr>
<td>SPC w c</td>
<td style="text-align:center">close the window</td>
</tr>
<tr>
<td>SPC t l</td>
<td style="text-align:center">toggle lines</td>
</tr>
<tr>
<td>C-x h</td>
<td style="text-align:center">select the entire buffer</td>
</tr>
<tr>
<td>C-h m</td>
<td style="text-align:center">show available commands for the current modes</td>
</tr>
<tr>
<td>SPC a d</td>
<td style="text-align:center">Dired mode : 1. Copy file : C 2. Delete the file : D 3. Rename the file : R 4. Create a new directory : + 5. Reload directory listing : g</td>
</tr>
<tr>
<td>C-b</td>
<td style="text-align:center">Move back one full screen</td>
</tr>
<tr>
<td>C-f</td>
<td style="text-align:center">Move forward one full screen</td>
</tr>
<tr>
<td>C-d</td>
<td style="text-align:center">Move forward 1/2 screen</td>
</tr>
<tr>
<td>C-u</td>
<td style="text-align:center">Move back (upA)1/2 screen</td>
</tr>
<tr>
<td>/sudo::/path/to/file</td>
<td style="text-align:center">Open a file with su/sudo</td>
</tr>
<tr>
<td>r in <em>spacemacs</em> buffer</td>
<td style="text-align:center">Open from the recent file list</td>
</tr>
</tbody>
</table>
<h1 id="Movement"><a href="#Movement" class="headerlink" title="Movement"></a>Movement</h1><table>
<thead>
<tr>
<th>Key</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>C-u</td>
<td style="text-align:center">up half page</td>
</tr>
<tr>
<td>C-d</td>
<td style="text-align:center">down half page</td>
</tr>
<tr>
<td></td>
</tr>
</tbody>
</table>
<h1 id="Stage-files-and-commit"><a href="#Stage-files-and-commit" class="headerlink" title="Stage files and commit"></a>Stage files and commit</h1><table>
<thead>
<tr>
<th>Key</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SPC g s</td>
<td style="text-align:center">show Magit status view</td>
</tr>
<tr>
<td>j k</td>
<td style="text-align:center">position the cursor on a file</td>
</tr>
<tr>
<td>TAB</td>
<td style="text-align:center">show and hide the diff for the file</td>
</tr>
<tr>
<td>s</td>
<td style="text-align:center">stage a file (u to unstage fa file and x to discard changes to a file)</td>
</tr>
<tr>
<td>cc</td>
<td style="text-align:center">commit</td>
</tr>
<tr>
<td>,c</td>
<td style="text-align:center">finish the commit message</td>
</tr>
<tr>
<td>p u</td>
<td style="text-align:center">Push to upstream</td>
</tr>
<tr>
<td>F (r) u</td>
<td style="text-align:center">Pull tracked branch and rebase</td>
</tr>
<tr>
<td></td>
</tr>
</tbody>
</table>
<h1 id="Org-mode"><a href="#Org-mode" class="headerlink" title="Org mode"></a>Org mode</h1><table>
<thead>
<tr>
<th>Key</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>M-x org-mode</td>
<td style="text-align:center">enable Org mode</td>
</tr>
<tr>
<td>M-shift-RET</td>
<td style="text-align:center">Add a TODO list</td>
</tr>
<tr>
<td>C-c C-t</td>
<td style="text-align:center">Mark as completed</td>
</tr>
<tr>
<td>C-c C-x C-b</td>
<td style="text-align:center">toogle checkbox</td>
</tr>
<tr>
<td></td>
</tr>
</tbody>
</table>
<h1 id="tumx"><a href="#tumx" class="headerlink" title="tumx"></a>tumx</h1><table>
<thead>
<tr>
<th>Key</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>prefix :setw synchronize-panes off</td>
<td style="text-align:center">stop sending same command for all paines in windows</td>
</tr>
<tr>
<td>prefix r</td>
<td style="text-align:center">reload the tmux configuration</td>
</tr>
<tr>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li><a href="https://orgmode.org/manual/index.html">https://orgmode.org/manual/index.html</a></li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/spacemacs/">spacemacs</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/06/14/azure/" title="azure" itemprop="url">azure</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stan Zhou" target="_blank" itemprop="author">Stan Zhou</a>
		
  <p class="article-time">
    <time datetime="2020-06-14T09:38:55.000Z" itemprop="datePublished"> Published 2020-06-14</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Azure-architecturue-foundations"><a href="#Azure-architecturue-foundations" class="headerlink" title="Azure architecturue foundations"></a>Azure architecturue foundations</h1><blockquote>
<p>subscriptions, management, governance</p>
</blockquote>
<h2 id="Resource-organization"><a href="#Resource-organization" class="headerlink" title="Resource organization"></a>Resource organization</h2><ul>
<li>Management group for each environment (Prod, Dev, and Test)</li>
<li>Subscription for each “application categorization”</li>
<li>Separate resource group for each application</li>
<li>Consistent nomenclature at each level of this hierarchy<br><img src="https://i.imgur.com/jpBakdZ.png" alt="resource organization" title="resource organization"> <h2 id="Naming-Standards"><a href="#Naming-Standards" class="headerlink" title="Naming Standards"></a>Naming Standards</h2></li>
<li>Azure resource names are important</li>
<li>it’s difficult to change names later</li>
<li>Names must meet requirements specific to their resource type<br><a href="https://docs.microsoft.com/en-us/azure/cloud-adoption-framework/ready/azure-best-practices/naming-and-tagging">naming and tagging</a><h2 id="Organize-resources-by-Tag"><a href="#Organize-resources-by-Tag" class="headerlink" title="Organize resources by Tag"></a>Organize resources by Tag</h2></li>
<li>Allows you to add metadata to Azure resources</li>
<li>Allows you to query resources using the same tags</li>
<li>Not all resource types support tags<h2 id="Azure-policy-and-RBAC"><a href="#Azure-policy-and-RBAC" class="headerlink" title="Azure policy and RBAC"></a>Azure policy and RBAC</h2></li>
<li>Policies enforce rules against your resources</li>
<li>Role-based access control (RBAC) controls user actions<h2 id="Resource-locks"><a href="#Resource-locks" class="headerlink" title="Resource locks"></a>Resource locks</h2></li>
<li>Prevent accidental resource changes<h2 id="Monitorinig-and-alerting"><a href="#Monitorinig-and-alerting" class="headerlink" title="Monitorinig and alerting"></a>Monitorinig and alerting</h2><img src="https://i.imgur.com/5mS3fbB.png" alt="monitoring and alerting"> </li>
</ul>
<h1 id="Cloud-application-architecture"><a href="#Cloud-application-architecture" class="headerlink" title="Cloud application architecture"></a>Cloud application architecture</h1><p><a href="https://docs.microsoft.com/en-us/azure/architecture/" title="Azure architecture center">Azure architecture center</a></p>
<h1 id="N-tier-application-architecture"><a href="#N-tier-application-architecture" class="headerlink" title="N-tier application architecture"></a>N-tier application architecture</h1><p><img src="https://i.imgur.com/ziZzQrN.png" alt="n-tier applicatioin architecuture"></p>
<h1 id="Hybrid-cloud-architecture"><a href="#Hybrid-cloud-architecture" class="headerlink" title="Hybrid cloud architecture"></a>Hybrid cloud architecture</h1><p><img src="https://i.imgur.com/VxYsaXo.png" alt="hybrid cloud architecture"></p>
<p>Azure bastion</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/azure/">azure</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/04/26/puppet/" title="puppet" itemprop="url">puppet</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stan Zhou" target="_blank" itemprop="author">Stan Zhou</a>
		
  <p class="article-time">
    <time datetime="2020-04-26T12:41:23.000Z" itemprop="datePublished"> Published 2020-04-26</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Puppet-Code-Directory-Layout"><a href="#Puppet-Code-Directory-Layout" class="headerlink" title="Puppet Code Directory Layout"></a>Puppet Code Directory Layout</h1><p>environments/production/:<br>manifests/:Puppet manifests<br>modules/: Puppet modules<br>data/: Hiera data<br>hiera.yaml: Hiera configuration</p>
<h1 id="add-cert-autosign"><a href="#add-cert-autosign" class="headerlink" title="add cert autosign"></a>add cert autosign</h1><p>cat /etc/puppetlabs/puppet/autosign.conf<br>add the hostname or *.foobar</p>
<p>add a line in /etc/puppetlabs/puppet/puppet.conf<br>autosign = true</p>
<h1 id="Puppet-5-essentials"><a href="#Puppet-5-essentials" class="headerlink" title="Puppet 5 essentials"></a>Puppet 5 essentials</h1><h2 id="resources-parameters-and-properties"><a href="#resources-parameters-and-properties" class="headerlink" title="resources, parameters, and properties"></a>resources, parameters, and properties</h2><p>Resources are the elementray builing blocks of manifests.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># cat puppet_service.pp</span><br><span class="line">service &#123; &apos;puppet&apos;:</span><br><span class="line">  ensure =&gt; &apos;stopped&apos;,</span><br><span class="line">  enable =&gt; false,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Each has a type (service) and a name or title (puppet). Each resource is unique to a manifest, and can be referenced by the combination of its<br>type and name, such as Server[“puppet”].<br>A resource comprises a list of zero or more attributes.<br>An attribute is a key-value pair, such as <code>enable =&gt; fales</code>.</p>
<p>Puppet differentiates between two different attributes: parameters and properties.<br>Parameters describe the way that Puppet should deal with a resource type.<br>Properties describe a specific setting of a resource.<br>Certain parameters are available for all resource types (metaparameters), and some names are just very common, such as ensure. The service type supports the ensure property, which represents the status of the managed process. Its enabled property, on the other hand, relates to the system boot configuration (with respect to the service in question).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cat puppet_service_provider.pp </span><br><span class="line">service &#123; &apos;puppet&apos;:</span><br><span class="line">  ensure   =&gt; &apos;stopped&apos;,</span><br><span class="line">  enable   =&gt; false,</span><br><span class="line">  provider =&gt; &apos;upstart&apos;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The provider parameter tells Puppet that it need to interact with the upstart subsystem to control its background service.</p>
<p>The difference between parameters and properties is that the parameter merely indicates how Puppet should manage the resource, not what a desired state is.<br>Puppet will only take action on property values. In this example, these are ensure =&gt; ‘stopped’ and enable =&gt; false. For each such property, Puppet will perform the following tasks:</p>
<ul>
<li>Test whether the resources is already in sync with the target state</li>
<li>If the resource is not in sync, it will trigger a sync action</li>
</ul>
<p>Properties can be out of sync, whereas parameters cannot.</p>
<h2 id="Dry-testing-your-manifest"><a href="#Dry-testing-your-manifest" class="headerlink" title="Dry testing your manifest"></a>Dry testing your manifest</h2><p><code>puppet apply puppet_service.pp --noop</code></p>
<h2 id="Using-variables"><a href="#Using-variables" class="headerlink" title="Using variables"></a>Using variables</h2><p>Any variable name is always prefixed with the $ sign:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$download_server = &apos;img2.example.net&apos;</span><br><span class="line">$url = &quot;https://$&#123;download_server&#125;/pkg/example_source.tar.gz&quot;</span><br></pre></td></tr></table></figure></p>
<h2 id="Variable-types"><a href="#Variable-types" class="headerlink" title="Variable types"></a>Variable types</h2><p>Four variable types: strings, arrays, hashed, and Booleans<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$a_bool = true</span><br><span class="line">$a_string = &apos;This is a string value&apos;</span><br><span class="line">$an_array = [ &apos;This&apos;, &apos;forms&apos;, &apos;an&apos;, &apos;array&apos; ]</span><br><span class="line">$a_hash = &#123;   </span><br><span class="line">   &apos;subject&apos;   =&gt; &apos;Hashes&apos;,  </span><br><span class="line">   &apos;predicate&apos; =&gt; &apos;are written&apos;,  </span><br><span class="line">   &apos;object&apos;    =&gt; &apos;like this&apos;,  </span><br><span class="line">   &apos;note&apos;      =&gt; &apos;not actual grammar!&apos;,  </span><br><span class="line">   &apos;also note&apos; =&gt; [ &apos;nesting is&apos;,</span><br><span class="line">   &#123; &apos;allowed&apos;   =&gt; &apos; of course&apos; &#125; ], </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="Data-types"><a href="#Data-types" class="headerlink" title="Data types"></a>Data types</h2><p>Puppet has core data types and abstract data types. The core data types are the most commonly used types of data, such as string or integer, whereas abstract data types allow for more sophisticated type validation, such as optional or variant.</p>
<h2 id="Adding-control-structures-in-manifests"><a href="#Adding-control-structures-in-manifests" class="headerlink" title="Adding control structures in manifests"></a>Adding control structures in manifests</h2><p>if/else block:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if &apos;mail_lda&apos; in $needed_services &#123;  </span><br><span class="line">   service &#123; &apos;dovecot&apos;: enable =&gt; true &#125;</span><br><span class="line">&#125; else &#123;  </span><br><span class="line">   service &#123; &apos;dovecot&apos;: enable =&gt; false &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>case statement:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/puppet/">puppet</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/03/16/i3/" title="i3" itemprop="url">i3</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stan Zhou" target="_blank" itemprop="author">Stan Zhou</a>
		
  <p class="article-time">
    <time datetime="2020-03-16T03:53:08.000Z" itemprop="datePublished"> Published 2020-03-16</time>
    
  </p>
</header>
    <div class="article-content">
        
        <table>
<thead>
<tr>
<th>Key</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>$mod+shift+direction</td>
<td style="text-align:center">swap two windows</td>
</tr>
<tr>
<td></td>
</tr>
</tbody>
</table>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/i3-linux/">i3, linux</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/02/26/monitoring/" title="monitoring" itemprop="url">monitoring</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stan Zhou" target="_blank" itemprop="author">Stan Zhou</a>
		
  <p class="article-time">
    <time datetime="2020-02-26T10:52:07.000Z" itemprop="datePublished"> Published 2020-02-26</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Frontend-Monitoring"><a href="#Frontend-Monitoring" class="headerlink" title="Frontend Monitoring"></a>Frontend Monitoring</h1><h2 id="Two-approaches-to-frontend-monitoring"><a href="#Two-approaches-to-frontend-monitoring" class="headerlink" title="Two approaches to frontend monitoring"></a>Two approaches to frontend monitoring</h2><ul>
<li>real user monitoring (RUM)</li>
<li>synthetic<ul>
<li>tools: webpagetest.org<br><strong>Browsers expose page performance metrics visa the Navigation Timing API</strong></li>
</ul>
</li>
</ul>
<h1 id="Application-Monitoring"><a href="#Application-Monitoring" class="headerlink" title="Application Monitoring"></a>Application Monitoring</h1><p><strong>Application Performance Monitoring(APM) Tools</strong></p>
<ul>
<li>StatsD is a tool used to add metrics inside of your code.</li>
</ul>
<h1 id="Telegraf-InfluxDB-Grafana"><a href="#Telegraf-InfluxDB-Grafana" class="headerlink" title="Telegraf, InfluxDB + Grafana"></a>Telegraf, InfluxDB + Grafana</h1><ul>
<li><p>Grafana: Grafana is “The open platform for beautiful analytics and monitoring.” It makes it easy to create dashboards for displaying data from many sources, particularly time-series data. It works with several different data sources such as Graphite, Elasticsearch, InfluxDB, and OpenTSDB. We’re going to use this as our main front end for visualizing our network statistics.</p>
</li>
<li><p>InfluxDB: InfluxDB is “…a data store for any use case involving large amounts of timestamped data.” This is where we’re going to store our network statistics. It is designed for exactly this use-case, where metrics are collected over time.</p>
</li>
<li><p>Telegraf: Telegraf is “…a plugin-driven server agent for collecting and reporting metrics.” This can collect data from a wide variety of sources, e.g. system statistics, API calls, DB queries, and SNMP. It can then send those metrics to a variety of datastores, e.g. Graphite, OpenTSDB, Datadog, Librato. Telegraf is maintained by InfluxData, the people behind InfluxDB. So it has very good support for writing data to InfluxDB.</p>
</li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2020/02/09/SRE/" title="SRE" itemprop="url">SRE</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stan Zhou" target="_blank" itemprop="author">Stan Zhou</a>
		
  <p class="article-time">
    <time datetime="2020-02-09T01:10:52.000Z" itemprop="datePublished"> Published 2020-02-09</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Implementing-SLOs"><a href="#Implementing-SLOs" class="headerlink" title="Implementing SLOs"></a>Implementing SLOs</h1><p>Service level objectives (SLOs) specify a target level for the reliability of your service.<br>SLOs are key to making data-driven decisions about reliability, they’re at the core of SRE practices.</p>
<p>SLOs are a tool to help determin what engineering work to prioritize.</p>
<h1 id="Effective-team-incident-reports"><a href="#Effective-team-incident-reports" class="headerlink" title="Effective team incident reports"></a>Effective team incident reports</h1><p>It’s essential to have a team incident report per incident. These artifacts are for the team to help to spread knowledge and prevent stagnation where the team as a whole doesn’t know specific knowledge obtained via the incident. Store these artifacts in a central place. Depending on the organization, these artifacts may be useful to other teams.</p>
<p>Each artifact may have slightly different content based on the nature of the incident. The reader of the team incident report is the individuals on the team, so these reports can be longer and more detailed than external or executive briefings.</p>
<p>An example template for a team incident report:</p>
<ul>
<li>Title</li>
<li>Date</li>
<li>Author(s)</li>
<li>Summary of the incident</li>
<li>Incident participants and their role(s)</li>
<li>Impact</li>
<li>Timeline</li>
<li>Include graphs and logs that help support the facts described in the timeline.</li>
<li>Lessons learned about what went well, and what needs improvement.</li>
<li>Action Items - These should include who, what, type of action, and when. Others outside of the incident response team might think of additional action items after reviewing the narrative.</li>
</ul>
<p>While one person should have the responsibility of being the note taker during the meeting and initial author of the report, everyone on the incident response team should review and update the team report.</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/SRE/">SRE</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/09/28/photography/" title="photography" itemprop="url">photography</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stan Zhou" target="_blank" itemprop="author">Stan Zhou</a>
		
  <p class="article-time">
    <time datetime="2019-09-27T14:44:32.492Z" itemprop="datePublished"> Published 2019-09-28</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p><strong>Exposure</strong>: Aperture, ISO speed, and shutter speed are the three core controls that manipulate exposure. </p>
<p><strong>Camera metering</strong>: The engine that assesses light and exposure. </p>
<p><strong>Depth of field</strong>: An important characteristic that influences our perception of space.</p>
<h2 id="Understanding-exposure"><a href="#Understanding-exposure" class="headerlink" title="Understanding exposure"></a>Understanding exposure</h2><h3 id="Exposure-triangle"><a href="#Exposure-triangle" class="headerlink" title="Exposure triangle"></a>Exposure triangle</h3><p><img src="https://i.imgur.com/qViBe1j.jpg" alt="the exposure triangle"><br><strong>Shutter speed</strong>: Controls the duration of the exposure</p>
<p>The shutter spped, or exposure time, refers to how long this light is permitted to enter the camera.</p>
<p>Range of Shutter Speeds<br>SHUTTER SPEED|TYPICAL EXAMPLE<br>—|—<br>1 to 30+ seconds|To take specialty night and low-light photos on a tripod<br>1/2 to 2 seconds|To add a silky look to flowing water landscape photos on a tripod for enhanced depth of field<br>1/30 to 1/2 second|To add motion blur to the background of moving-subject, carefully taken, handheld photos with stabilization<br>1/250 to 1/50 second|To take typical handheld photos without substantial zoom<br>1/500 to 1/250 second|To freeze everyday sports/action, in moving-subject, handheld photos with substantial zoom (telephoto lens)<br>1/8000 to 1/1000 second|To freeze extremely fast, up-close subject motion</p>
<p><em>Note that the range in shutter speeds spans a 100,000× ratio between the shortest exposure and longest exposure, enabling cameras with this capability to record a wide variety of subject motion.</em></p>
<p><strong>Aperture</strong>: Controls the area through which light can enter your camera<br>A camera’s aperture setting controls the width of the opening that lets light into your camera lens.<br>We measure a camera’s aperture using an f-stop value, which can be counterintuitive because the area of the opening increases as the f-stop decreases. For example, when photographers say they’re “stopping down” or “opening up” their lens, they’re referring to increasing and decreasing the f-stop value, respectively<br><img src="https://i.imgur.com/BSiRQZX.jpg" alt="F-stop values and the corresponding aperture area"></p>
<p><strong>ISO speed</strong>: Controls the sensitivity of your camera’s sensor to a given amount of light</p>
<p><img src="https://i.imgur.com/5R1Mq0c.png" alt="Typical Focal Lengths and Their Uses"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2019/09/26/pipeline/" title="pipeline" itemprop="url">pipeline</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Stan Zhou" target="_blank" itemprop="author">Stan Zhou</a>
		
  <p class="article-time">
    <time datetime="2019-09-26T04:48:03.587Z" itemprop="datePublished"> Published 2019-09-26</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Pipeline</p>
<p>Represents a part of:</p>
<ul>
<li>Software delivery</li>
<li>Quality assurance process</li>
</ul>
<p>Benefits:</p>
<ul>
<li>Operation grouping</li>
<li>Visibility</li>
<li>Feedback<br><strong>Automated deployment pipeline</strong><br>3 stages:<br>code change-&gt; Continuous Integration-&gt; Automated acceptance testing-&gt; Configuration management</li>
</ul>
<ol>
<li>Continuous Integration<br>The continuous integration phase provides the first feedback to the developers. It checks out the code from the repository, compiles it, runs unit tests and verifies the code quality. If any step fails the pipeline execution is stopped and the first thing the developer should do is fix the continuous integration build. The continuous integration pipeline is usually the starting point.</li>
</ol>
<ul>
<li>first feedback</li>
<li>checks code</li>
<li>starting point</li>
<li>simple to setup</li>
</ul>
<ol start="2">
<li>Automated acceptance testing</li>
</ol>
<ul>
<li>Suites of tests</li>
<li>A quality gate</li>
<li>Pipeline execution is stopped if test fails</li>
<li>Prevents movement</li>
<li>Lot of confusion</li>
</ul>
<p><img src="https://i.imgur.com/KGWFQPx.png" alt="Agile testing matrix"></p>
<ol>
<li>Acceptance testing</li>
</ol>
<ul>
<li>Represent functional requirements</li>
<li>Wrtten in the form of stories or examples</li>
</ul>
<ol start="2">
<li>Unit Testing</li>
</ol>
<ul>
<li>Provide the high-quality software</li>
<li>Minimize the number of bugs</li>
</ul>
<ol start="3">
<li>Exploratory Testing</li>
</ol>
<ul>
<li>Manual black-box testing</li>
<li>Breaks or improves the system</li>
</ul>
<ol start="4">
<li>Non-functional testing</li>
</ol>
<ul>
<li>Represent properties:<ul>
<li>Performance</li>
<li>Scalability</li>
<li>Security</li>
</ul>
</li>
</ul>
<ol start="3">
<li>Configuration management</li>
</ol>
<ul>
<li>Replaces the manual operations</li>
<li>Responsible for tracking and controlling changes</li>
<li>Solution to the problems</li>
<li>Enable storing configuration files<br>Configuration management is a solution to the problems posed by manually deploying and configuring applications on the production. Configuration management tools enables storing configuration files in the version control system and tracking every change that was made on the production servers.</li>
</ul>
<p><strong>Technical and development prerequisites</strong></p>
<ul>
<li>Automated build, test, package, and deploy operations</li>
<li>Quick pipeline execution</li>
<li>Quick failure recovery</li>
<li>Zero-downtime deployment</li>
<li>Trunk-based deployment</li>
</ul>
<p><strong>Building the continuous delivery process</strong><br>Jenkins</p>
<ul>
<li>Popular automation server</li>
<li>Helps create automated sequence of scripts</li>
<li>Plugin-oriented</li>
</ul>
<p>Ansible<br>Helps with:</p>
<ul>
<li>Software provisioning</li>
<li>Configuration management</li>
<li>Application deployment</li>
</ul>
<p>Java</p>
<ul>
<li>Most popular programming language</li>
<li>Develop with the Spring framework</li>
<li>Gradle-build tool<br>Jenkins is by far the most popular automation server on the market. It helps to create continuous integration and continuous delivery pipelines and in general any other automated sequence of scripts. Highly plug-in oriented it has a greater community which constantly extends it with new features. Another one is Ansible. Ansible is an automation tool that helps with software provisioning configuration management and application deployment. Next comes Java. Java has been the most popular programming language for years, that is why it is being used for most code examples. Together with Java, most companies develop with the Spring framework so we used it to create a simple web service needed to explain some concepts. Gradle is used as a build tool. It is less popular than Maven however trending much faster.</li>
</ul>
<p><strong>Pipeline elements</strong></p>
<ul>
<li>Basic elements</li>
<li>Stage - Logical separation</li>
<li>Setp - Used to visualize process<br><img src="https://i.imgur.com/J7xJ8KG.png" alt="elements"></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">pipeline &#123;</span><br><span class="line">   //agent any</span><br><span class="line">   agent &#123;</span><br><span class="line">      label &apos;linux&apos;</span><br><span class="line">   &#125;</span><br><span class="line">   stages &#123;</span><br><span class="line">      stage(&apos;First Stage&apos;) &#123;</span><br><span class="line">          steps &#123;</span><br><span class="line">              echo &apos;Step 1. Hello World&apos;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      stage(&apos;Second Stage&apos;) &#123;</span><br><span class="line">          steps &#123;</span><br><span class="line">              echo &apos;Step 2. Second time Hello&apos;</span><br><span class="line">              echo &apos;Step 3. Third time Hello&apos;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   post &#123;</span><br><span class="line">     always &#123;</span><br><span class="line">        echo &quot;Pipeline executed!&quot;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Define pipeline structure<br>A declarative pipeline is always specified inside the pipeline block and contains sections, directives and steps. </li>
</ul>
<p>A declarative pipeline has a simplified and opinionated syntax on top of the pipeline sub-system.</p>
<p><strong>Sections</strong></p>
<ul>
<li>Keywords are:<ul>
<li>Agent-defines on which agent the pipeline or the stage will be executed</li>
<li>Stages-defines the stages of the pipeline</li>
<li>Step</li>
<li>Post-defines the post build steps</li>
</ul>
</li>
</ul>
<p>Sections define the pipeline structure and usually contain one or more directives or steps. They are defined with the key words, stages, step and post.</p>
<p>Stages defines a series of one or more stage directives.</p>
<p>Steps defines a series of one or more step instructions.</p>
<p>Steps are the most fundamental part of the pipeline they define the operations that are executed so they actually tell Jenkins what to do.</p>
<p>Defined using:</p>
<ul>
<li>sh: executes the shell command</li>
<li>custom</li>
<li>script</li>
</ul>
<p>Posts defines a series of one or more step instructions that are run at the end of the pipeline build.</p>
<p><strong>Directives</strong></p>
<ul>
<li>Expresses the configuration of a pipeline or its parts</li>
<li>Defined by:<ul>
<li>Agent: specifies where the execution takes place</li>
<li>Triggers: define automated ways to trigger the pipeline and can use cron to set the time based scheduling</li>
<li>Options: specified pipeline specific options</li>
<li>Environment: deinfes a set of key values used a s environment variables</li>
<li>Parameters: define a list of user input parameters</li>
<li>Tools: defines the tools configured on Jenkins</li>
<li>Stage: allows for logical grouping of steps; contains steps and agent </li>
<li>When: determines whether the stage should be executed depending on the given condition</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">pipeline &#123;</span><br><span class="line">   agent any</span><br><span class="line">   tools &#123;</span><br><span class="line">      maven &apos;M3&apos;</span><br><span class="line">   &#125;</span><br><span class="line">  </span><br><span class="line">   parameters &#123;</span><br><span class="line">      string(name: &apos;VERSION&apos;,</span><br><span class="line">          defaultValue: &apos;1.0.0&apos;,</span><br><span class="line">          description: &apos;What is the version to build?&apos;)</span><br><span class="line">   &#125;</span><br><span class="line">  </span><br><span class="line">   stages &#123;</span><br><span class="line">      stage(&apos;Build&apos;)&#123;</span><br><span class="line">          steps &#123;</span><br><span class="line">             sh &quot;./build.sh $&#123;params.VERSION&#125;&quot;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Commit-Pipeline"><a href="#Commit-Pipeline" class="headerlink" title="Commit Pipeline"></a>Commit Pipeline</h2><ul>
<li>Basic continuous integration process</li>
<li>Results in a report about the build</li>
<li>Runs after each change in the code</li>
<li>Consume a reasonable amount of resources</li>
<li>Starting point</li>
</ul>
<p>Since it runs after every change in the code, the build should take no more than five minutes and should consume a reasonable amount of resources. The commit phase is always the starting point of the continuous delivery process and it provides the most important feedback cycle in the development process.</p>
<p>In the commit phase a developer checks in the code to the repository.<br>The continuous integration server detects the change and the build starts.<br>The most fundamental commit pipeline contains three stages </p>
<ul>
<li>checkout</li>
<li>compile</li>
<li>unit test</li>
</ul>
<h2 id="Code-Quality-Stages"><a href="#Code-Quality-Stages" class="headerlink" title="Code Quality Stages"></a>Code Quality Stages</h2><p><strong>Extending continuous integration</strong></p>
<ul>
<li>The most widely used are: Code coverage and Static analysis</li>
</ul>
<p><strong>Code coverage</strong></p>
<ul>
<li>Scenario:<ul>
<li>Nobody writes unit tests</li>
<li>Passes all the builds</li>
</ul>
</li>
<li>Solution:<ul>
<li>Add coverage code tools</li>
</ul>
</li>
<li>Creates report</li>
<li>Make build fail<br><strong>Available tools</strong></li>
<li>JaCoCo</li>
<li>Clover</li>
<li>Cobertura<br><strong>Static Code Analysis</strong></li>
<li>Checks without execution</li>
<li>Checks number of rules</li>
<li>Rules apply to wide range of aspects</li>
<li>Popular tools are Checkstyle, FindBugs, and PMD</li>
</ul>
<p><strong>SonarQube</strong></p>
<ul>
<li>Quality management tool</li>
<li>An alternative</li>
<li>Aggregates different code analysis frameworks</li>
<li>Has own dashboards</li>
<li>User friendly web interface</li>
</ul>
<h2 id="Triggers-and-notifications"><a href="#Triggers-and-notifications" class="headerlink" title="Triggers and notifications"></a>Triggers and notifications</h2><p><strong>Triggers</strong></p>
<ul>
<li>Automatic action to start the build</li>
<li>Manay options to choose from</li>
<li>Three types:<ul>
<li>External</li>
<li>Polling SCM</li>
<li>Scheduled build<br><strong>External Trigger</strong></li>
</ul>
</li>
<li>Natural to understand</li>
<li>Starts the build after it’s called by the notifier</li>
</ul>
<p>GitHub -&gt; trigger-&gt; Jenkins</p>
<p><strong>Polling SCM</strong></p>
<ul>
<li>Periodically calls Github</li>
<li>Sound counter-intuitive<br>Polling SCM trigger is less intuitive.<br><img src="https://i.imgur.com/s6L2bbo.png" alt="Polling SCM figure"><br>Jenkins periodically calls GitHub and checks if there were any push to the repository. Then it starts the build.</li>
</ul>
<p><strong>Scheduled build</strong></p>
<ul>
<li>Jenkins runs the build periodically</li>
<li>No communication with any system</li>
<li>Implementation of scheduled build is same as polling SCM</li>
<li>Used for the commit pipeline</li>
</ul>
<p><strong>Notifications</strong></p>
<ul>
<li>Lot</li>
</ul>
<h2 id="Team-development-strategies"><a href="#Team-development-strategies" class="headerlink" title="Team development strategies"></a>Team development strategies</h2><p><strong>Development workflows</strong></p>
<ul>
<li>Put the code into the repostitory</li>
<li>Depends on many factors</li>
<li>Classify into three types:<ul>
<li><img src="https://i.imgur.com/WXIl9qU.png" alt="Trunk-based workflow"></li>
<li><img src="https://i.imgur.com/Oiury7J.png" alt="Branching workflow"></li>
<li><img src="https://i.imgur.com/5Uo3Ac9.png" alt="Forking workflow"><br><strong>Feature toggle</strong><br>Feature toggle is a technique that is an alternative to maintaining multiple source code branches such that the feature can be tested before it is completed and ready for use. It is used to disable the feature for users but enables it for developers while testing. Feature toggles are essentially variables used in conditional statements the simplest implementation of feature toggles are flags and the if statements.</li>
</ul>
</li>
</ul>
<p><strong>acceptance testing</strong><br>Acceptance testing is a test performed to determine if business requirements or contracts are met. </p>
<ul>
<li>Invovles black-box testing</li>
<li>Imply the acceptance of the software delivery</li>
<li>Also called UAT</li>
<li>Rely on manual steps</li>
<li>Reaonable to run them as programmed repeatable operations<br><strong>Artifact repository</strong><br>While the source control management stores the source code the artifact repository is dedicated for storing software binary artifacts, for example, compiled libraries or components later used to build a complete application.</li>
<li>Store binaries on a separate server due to:<ul>
<li>File size</li>
<li>Versions</li>
<li>Revision mapping</li>
<li>Packages</li>
<li>Access Control</li>
<li>Clients</li>
<li>Use cases<br><img src="https://i.imgur.com/5gDLWLc.png" alt="working"><br><strong>private docker registry</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p certs</span><br><span class="line"></span><br><span class="line">openssl req \\n  -newkey rsa:4096 -nodes -sha256 -keyout certs/domain.key \\n  -x509 -days 365 -out certs/domain.crt</span><br><span class="line"></span><br><span class="line">docker run -d -p 5000:5000 --restart=always --name registry -v `pwd`/auth:/auth -e &quot;REGISTRY_AUTH=htpasswd&quot; -e &quot;REGISTRY_AUTH_HTPASSWD_REALM=Registry Realm&quot; -e REGISTRY_AUTH_HTPASSWD_PATH=/auth/passwords -v `pwd`/certs:/certs -e REGISTRY_HTTP_TLS_CERTIFICATE=/certs/domain.crt -e REGISTRY_HTTP_TLS_KEY=/certs/domain.key registry:2</span><br><span class="line"></span><br><span class="line">docker tag ubuntu_with_python stanosaka/ubuntu_with_python:1</span><br><span class="line">docker push stanosaka/ubuntu_with_python:1</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p><strong>Acceptance test in pipeline</strong><br><img src="https://i.imgur.com/06nJoTO.png" alt="process"></p>
<ol>
<li>The developer pushes a code change to Github.</li>
<li>Jenkins detects the change, triggers the build and checks out the current code.</li>
<li>Jenkins executes the commit phase and builds the Docker image</li>
<li>Jenkins pushes the image to Docker Registry</li>
<li>Jenkins runs the Docker container in the staging environment</li>
</ol>
<p><strong>Configuration management</strong></p>
<ul>
<li>Process of controlling configuration changes</li>
<li>Used to refer to the software and the hardware</li>
</ul>
<p>Application Configuration| Infrastructre Configuration<br>Decides how the system works| Server infrastructure and environment configuration<br>Expressed in the form of flags| Takes care of the deployment process<br><img src="https://i.imgur.com/L4k4cb0.png" alt="working"><br><strong>Traits</strong></p>
<ul>
<li>Automation</li>
<li>Version Control</li>
<li>Incremental changes</li>
<li>Server provisioning</li>
<li>Security</li>
<li>Simplicity</li>
</ul>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/pipeline/">pipeline</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github Card</p>
<div class="github-card" data-github="stanosaka" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  

  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/Devops/" title="Devops">Devops<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/aws/" title="aws">aws<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/centos/" title="centos">centos<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/Jenkins/" title="Jenkins">Jenkins<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/CD-CI/" title="CD/CI">CD/CI<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/docker/" title="docker">docker<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/linux/" title="linux">linux<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/git/" title="git">git<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/tomcat/" title="tomcat">tomcat<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/saltstack/" title="saltstack">saltstack<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/zabbix/" title="zabbix">zabbix<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/ec2/" title="ec2">ec2<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/backup/" title="backup">backup<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/nginx/" title="nginx">nginx<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/github/" title="github">github<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/Pipeline/" title="Pipeline">Pipeline<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Blue-Ocean/" title="Blue Ocean">Blue Ocean<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/python/" title="python">python<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Linux/" title="Linux">Linux<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/SRE/" title="SRE">SRE<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="https://github.com/kahun/awesome-sysadmin" target="_blank" title="Awesome-sysadmin">Awesome-sysadmin</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.opsschool.org/index.html" target="_blank" title="Ops School Curriculum">Ops School Curriculum</a>
            
          </li>
        
          <li>
            
            	<a href="https://kupczynski.info/2018/04/18/spacemacs.html" target="_blank" title="Learning Spacemacs">Learning Spacemacs</a>
            
          </li>
        
          <li>
            
            	<a href="https://landing.google.com/sre/books/" target="_blank" title="SRE Books">SRE Books</a>
            
          </li>
        
          <li>
            
            	<a href="https://github.com/aws-samples" target="_blank" title="AWS Samples">AWS Samples</a>
            
          </li>
        
          <li>
            
            	<a href="https://github.com/bikrambora/devlab-launchpad" target="_blank" title="Welcome to Dev Labs">Dev Labs</a>
            
          </li>
        
          <li>
            
            	<a href="https://github.com/ansible/ansible-examples" target="_blank" title="Ansible GitHub repo">Ansible GitHub repo</a>
            
          </li>
        
          <li>
            
            	<a href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html" target="_blank" title="Ansible Best Practices">Ansible Best Practices</a>
            
          </li>
        
          <li>
            
            	<a href="https://kubernetes.io/docs/reference/kubectl/cheatsheet/" target="_blank" title="kubectl cheat sheet">kubectl cheat sheet</a>
            
          </li>
        
          <li>
            
            	<a href="http://rogerdudler.github.io/git-guide" target="_blank" title="Git commands">Git commands</a>
            
          </li>
        
          <li>
            
            	<a href="https://docs.docker.com/engine/reference/builder/" target="_blank" title="Dockerfile reference">Dockerfile reference</a>
            
          </li>
        
          <li>
            
            	<a href="http://bit.ly/2mTQr8l" target="_blank" title="Linux Command line cheat sheet">Linux Command line cheat sheet</a>
            
          </li>
        
          <li>
            
            	<a href="http://bit.ly/2EPHxze" target="_blank" title="PowerShell Basic Cheat Sheet">PowerShell Basic Cheat Sheet</a>
            
          </li>
        
          <li>
            
            	<a href="http://sed.sourceforge.net/sed1line_zh-CN.html" target="_blank" title="sed cheatsheet">sed cheatsheet</a>
            
          </li>
        
          <li>
            
            	<a href="http://obsavus1p.bkt.clouddn.com/vim_cheat_sheet_for_programmers_print.png" target="_blank" title="vim cheatsheet">vim cheatsheet</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.gitbook.com/book/yeasy/docker_practice/details" target="_blank" title="Learn Docker">Learn Docker</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.unixhot.com/page/ops" target="_blank" title="运维知识体系">运维知识体系</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.tecmint.com/" target="_blank" title="tecmint">tecmint</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.lib.uts.edu.au" target="_blank" title="shoujin.wang@student.uts.edu.au">UTS Library</a>
            
          </li>
        
          <li>
            
            	<a href="https://7esl.com" target="_blank" title="ESL">ESL</a>
            
          </li>
        
          <li>
            
            	<a href="https://stanchou.wordpress.com" target="_blank" title="Stan&#39;s wordpress">Stan&#39;s wordpress</a>
            
          </li>
        
          <li>
            
            	<a href="https://docs.00root.com" target="_blank" title="Stan&#39;s gitbook">Stan&#39;s gitbook</a>
            
          </li>
        
          <li>
            
            	<a href="https://api.ipify.org" target="_blank" title="Your IP address">Your IP address</a>
            
          </li>
        
          <li>
            
            	<a href="https://github.com/stanosaka/oreilly_sql_fundamentals_for_data/blob/master/notes_and_slides/sql_fundamentals_notes.md" target="_blank" title="sql fundamentials">sql fundamentials</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.nerdfonts.com" target="_blank" title="Nred Fonts">Nred Fonts</a>
            
          </li>
        
          <li>
            
            	<a href="http://cb.vu/unixtoolbox.xhtml" target="_blank" title="UNIX TOOLBOX">UNIX TOOLBOX</a>
            
          </li>
        
          <li>
            
            	<a href="https://github.com/Ben-PH/spacemacs-cheatsheet" target="_blank" title="spacemacs-cheatsheet">spacemacs-cheatsheet</a>
            
          </li>
        
    </ul>
</div>

  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Stan. <br/>
			I am a Site Reliability Engineer working and living in Sydney.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/stanosaka" target="_blank" class="icon-github" title="github"></a>
		
		
		<a href="http://stackoverflow.com/users/6724938" target="_blank" class="icon-stack-overflow" title="stackoverflow"></a>
		
		
		<a href="https://twitter.com/stanosaka" target="_blank" class="icon-twitter" title="twitter"></a>
		
		
		<a href="https://www.facebook.com/stan.osaka" target="_blank" class="icon-facebook" title="facebook"></a>
		
		
		<a href="https://www.linkedin.com/in/00root" target="_blank" class="icon-linkedin" title="linkedin"></a>
		
		
		<a href="https://www.douban.com/people/btw01v" target="_blank" class="icon-douban" title="豆瓣"></a>
		
		
		<a href="http://www.zhihu.com/people/stan-22-82" target="_blank" class="icon-zhihu" title="知乎"></a>
		
		
		
		<a href="mailto:devops@cwzhou.win" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2020 
		
		<a href="/about" target="_blank" title="Stan Zhou">Stan Zhou</a>
		
		
		</p>
</div>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>


        
  	    <script src='https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js'></script>
            <script>
               if (window.mermaid) {
                  mermaid.initialize({theme: 'forest'});
               }
            </script>
        












<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
